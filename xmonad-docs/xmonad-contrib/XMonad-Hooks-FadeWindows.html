<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XMonad.Hooks.FadeWindows</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_XMonad-Hooks-FadeWindows.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/XMonad-Hooks-FadeWindows.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">xmonad-contrib-0.13: Third party extensions for xmonad</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Brandon S Allbery KF8NH &lt;allbery.b@gmail.com&gt;</td></tr><tr><th>License</th><td>BSD</td></tr><tr><th>Maintainer</th><td>Brandon S Allbery KF8NH</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>unportable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">XMonad.Hooks.FadeWindows</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Usage</a></li><li><a href="#g:2">The <code>logHook</code> for window fading</a></li><li><a href="#g:3">The <code>FadeHook</code></a></li><li><a href="#g:4">Predefined <code>FadeHook</code>s</a></li><li><a href="#g:5"><code>handleEventHook</code> for mapped/unmapped windows</a></li><li><a href="#g:6"><code>doF</code> for simple hooks</a></li><li><a href="#g:7">Useful <code>Query</code>s for <code>FadeHook</code>s</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A more flexible and general compositing interface than FadeInactive.
 Windows can be selected and opacity specified by means of FadeHooks,
 which are very similar to ManageHooks and use the same machinery.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:fadeWindowsLogHook">fadeWindowsLogHook</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a> -&gt; X ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:FadeHook">FadeHook</a> = Query <a href="XMonad-Hooks-FadeWindows.html#t:Opacity">Opacity</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Opacity">Opacity</a></li><li class="src short"><a href="#v:idFadeHook">idFadeHook</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></li><li class="src short"><a href="#v:opaque">opaque</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></li><li class="src short"><a href="#v:solid">solid</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></li><li class="src short"><a href="#v:transparent">transparent</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></li><li class="src short"><a href="#v:invisible">invisible</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></li><li class="src short"><a href="#v:transparency">transparency</a> :: <a href="http://xmonad.org/xmonad-docs/base/Prelude.html#t:Rational">Rational</a> -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></li><li class="src short"><a href="#v:translucence">translucence</a> :: <a href="http://xmonad.org/xmonad-docs/base/Prelude.html#t:Rational">Rational</a> -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></li><li class="src short"><a href="#v:fadeBy">fadeBy</a> :: <a href="http://xmonad.org/xmonad-docs/base/Prelude.html#t:Rational">Rational</a> -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></li><li class="src short"><a href="#v:opacity">opacity</a> :: <a href="http://xmonad.org/xmonad-docs/base/Prelude.html#t:Rational">Rational</a> -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></li><li class="src short"><a href="#v:fadeTo">fadeTo</a> :: <a href="http://xmonad.org/xmonad-docs/base/Prelude.html#t:Rational">Rational</a> -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></li><li class="src short"><a href="#v:fadeWindowsEventHook">fadeWindowsEventHook</a> :: Event -&gt; X <a href="http://xmonad.org/xmonad-docs/base/Data-Monoid.html#t:All">All</a></li><li class="src short"><a href="#v:doS">doS</a> :: <a href="http://xmonad.org/xmonad-docs/base/Data-Monoid.html#t:Monoid">Monoid</a> m =&gt; m -&gt; Query m</li><li class="src short"><a href="#v:isFloating">isFloating</a> :: Query <a href="http://xmonad.org/xmonad-docs/base/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isUnfocused">isUnfocused</a> :: Query <a href="http://xmonad.org/xmonad-docs/base/Data-Bool.html#t:Bool">Bool</a></li></ul></div><div id="interface"><h1 id="g:1">Usage</h1><div class="doc"><p>To use this module, make sure your <code>xmonad</code> core supports generalized
 <code>ManageHook</code>s (check the type of <code>idHook</code>; if it's <code>ManageHook</code> then
 your <code>xmonad</code> is too old) and then add <code>fadeWindowsLogHook</code> to your
 <code>logHook</code> and <code>fadeWindowsEventHook</code> to your <code>handleEventHook</code>:</p><pre>    , logHook = fadeWindowsLogHook myFadeHook
    , handleEventHook = fadeWindowsEventHook
    {- ... -}

myFadeHook = composeAll [isUnfocused --&gt; transparency 0.2
                        ,                opaque
                        ]</pre><p>The above is like FadeInactive with a fade value of 0.2.</p><p>FadeHooks do not accumulate; instead, they compose from right to
 left like <code>ManageHook</code>s, so the above example <code>myFadeHook</code> will
 render unfocused windows at 4/5 opacity and the focused window
 as opaque.  The <code><a href="XMonad-Hooks-FadeWindows.html#v:opaque">opaque</a></code> hook above is optional, by the way, as any
 unmatched window will be opaque by default.</p><p>This module is best used with <a href="XMonad-Hooks-MoreManageHelpers.html">XMonad.Hooks.MoreManageHelpers</a>, which
 exports a number of Queries that can be used in either <code>ManageHook</code>
 or <code>FadeHook</code>.</p><p>Note that you need a compositing manager such as <code>xcompmgr</code>,
 <code>dcompmgr</code>, or <code>cairo-compmgr</code> for window fading to work.  If you
 aren't running a compositing manager, the opacity will be recorded
 but won't take effect until a compositing manager is started.</p><p>For more detailed instructions on editing the <code>logHook</code> see:</p><p><a href="XMonad-Doc-Extending.html#The_log_hook_and_external_status_bars">XMonad.Doc.Extending</a></p><p>For more detailed instructions on editing the <code>handleEventHook</code>,
 see:</p><p><a href="XMonad-Doc-Extending.html#Editing_the_event_hook">XMonad.Doc.Extending</a>
 (which sadly doesnt exist at the time of writing...)</p><p><em>WARNING:</em>  This module is very good at triggering bugs in
 compositing managers.  Symptoms range from windows not being
 repainted until the compositing manager is restarted or the
 window is unmapped and remapped, to the machine becoming sluggish
 until the compositing manager is restarted (at which point a
 popup/dialog will suddenly appear; apparently it's getting into
 a tight loop trying to fade the popup in).  I find it useful to
 have a key binding to restart the compositing manager; for example,</p><p>main = xmonad $ def {
                   {- ... -}
                 }
                 <code>additionalKeysP</code>
                 [(<a href="M-S-4.html">M-S-4</a>,spawn &quot;killall xcompmgr; sleep 1; xcompmgr -cCfF &amp;&quot;)]
                 {- ... -}
                 ]</p><p>(See <a href="XMonad-Util-EZConfig.html">XMonad.Util.EZConfig</a> for <code>additionalKeysP</code>.)</p></div><h1 id="g:2">The <code>logHook</code> for window fading</h1><div class="top"><p class="src"><a id="v:fadeWindowsLogHook" class="def">fadeWindowsLogHook</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a> -&gt; X () <a href="src/XMonad-Hooks-FadeWindows.html#fadeWindowsLogHook" class="link">Source</a> <a href="#v:fadeWindowsLogHook" class="selflink">#</a></p><div class="doc"><p>A <code>logHook</code> to fade windows under control of a <code><a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></code>, which is
   similar to but not identical to <code>ManageHook</code>.</p></div></div><h1 id="g:3">The <code><a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></code></h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FadeHook" class="def">FadeHook</a> = Query <a href="XMonad-Hooks-FadeWindows.html#t:Opacity">Opacity</a> <a href="src/XMonad-Hooks-FadeWindows.html#FadeHook" class="link">Source</a> <a href="#t:FadeHook" class="selflink">#</a></p><div class="doc"><p>A FadeHook is similar to a ManageHook, but records window opacity.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Opacity" class="def">Opacity</a> <a href="src/XMonad-Hooks-FadeWindows.html#Opacity" class="link">Source</a> <a href="#t:Opacity" class="selflink">#</a></p><div class="subs instances"><p id="control.i:Opacity" class="caption collapser" onclick="toggleSection('i:Opacity')">Instances</p><div id="section.i:Opacity" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Opacity:Monoid:1" class="instance expander" onclick="toggleSection('i:id:Opacity:Monoid:1')"></span> <a href="http://xmonad.org/xmonad-docs/base/Data-Monoid.html#t:Monoid">Monoid</a> <a href="XMonad-Hooks-FadeWindows.html#t:Opacity">Opacity</a></span> <a href="src/XMonad-Hooks-FadeWindows.html#line-132" class="link">Source</a> <a href="#t:Opacity" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Opacity:Monoid:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:Opacity">Opacity</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:Opacity">Opacity</a> -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:Opacity">Opacity</a> -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:Opacity">Opacity</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="XMonad-Hooks-FadeWindows.html#t:Opacity">Opacity</a>] -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:Opacity">Opacity</a> <a href="#v:mconcat" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:idFadeHook" class="def">idFadeHook</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a> <a href="src/XMonad-Hooks-FadeWindows.html#idFadeHook" class="link">Source</a> <a href="#v:idFadeHook" class="selflink">#</a></p><div class="doc"><p>The identity <code><a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></code>, which renders windows <code><a href="XMonad-Hooks-FadeWindows.html#v:opaque">opaque</a></code>.</p></div></div><h1 id="g:4">Predefined <code><a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></code>s</h1><div class="top"><p class="src"><a id="v:opaque" class="def">opaque</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a> <a href="src/XMonad-Hooks-FadeWindows.html#opaque" class="link">Source</a> <a href="#v:opaque" class="selflink">#</a></p><div class="doc"><p>Render a window fully opaque.</p></div></div><div class="top"><p class="src"><a id="v:solid" class="def">solid</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a> <a href="src/XMonad-Hooks-FadeWindows.html#solid" class="link">Source</a> <a href="#v:solid" class="selflink">#</a></p><div class="doc"><p>An alias for <code><a href="XMonad-Hooks-FadeWindows.html#v:transparent">transparent</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:transparent" class="def">transparent</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a> <a href="src/XMonad-Hooks-FadeWindows.html#transparent" class="link">Source</a> <a href="#v:transparent" class="selflink">#</a></p><div class="doc"><p>Render a window fully transparent.</p></div></div><div class="top"><p class="src"><a id="v:invisible" class="def">invisible</a> :: <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a> <a href="src/XMonad-Hooks-FadeWindows.html#invisible" class="link">Source</a> <a href="#v:invisible" class="selflink">#</a></p><div class="doc"><p>An alias for <code><a href="XMonad-Hooks-FadeWindows.html#v:opaque">opaque</a></code>.</p><p>An alias for <code><a href="XMonad-Hooks-FadeWindows.html#v:transparent">transparent</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:transparency" class="def">transparency</a> <a href="src/XMonad-Hooks-FadeWindows.html#transparency" class="link">Source</a> <a href="#v:transparency" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="http://xmonad.org/xmonad-docs/base/Prelude.html#t:Rational">Rational</a></td><td class="doc"><p>The window's transparency as a fraction.
   <code>transparency 1</code> is the same as <code><a href="XMonad-Hooks-FadeWindows.html#v:transparent">transparent</a></code>,
   whereas <code>transparency 0</code> is the same as <code><a href="XMonad-Hooks-FadeWindows.html#v:opaque">opaque</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Specify a window's transparency.</p></div></div><div class="top"><p class="src"><a id="v:translucence" class="def">translucence</a> :: <a href="http://xmonad.org/xmonad-docs/base/Prelude.html#t:Rational">Rational</a> -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a> <a href="src/XMonad-Hooks-FadeWindows.html#translucence" class="link">Source</a> <a href="#v:translucence" class="selflink">#</a></p><div class="doc"><p>An alias for <code><a href="XMonad-Hooks-FadeWindows.html#v:transparency">transparency</a></code>.</p><p>An alias for <code><a href="XMonad-Hooks-FadeWindows.html#v:transparency">transparency</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:fadeBy" class="def">fadeBy</a> :: <a href="http://xmonad.org/xmonad-docs/base/Prelude.html#t:Rational">Rational</a> -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a> <a href="src/XMonad-Hooks-FadeWindows.html#fadeBy" class="link">Source</a> <a href="#v:fadeBy" class="selflink">#</a></p><div class="doc"><p>An alias for <code><a href="XMonad-Hooks-FadeWindows.html#v:transparency">transparency</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:opacity" class="def">opacity</a> <a href="src/XMonad-Hooks-FadeWindows.html#opacity" class="link">Source</a> <a href="#v:opacity" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="http://xmonad.org/xmonad-docs/base/Prelude.html#t:Rational">Rational</a></td><td class="doc"><p>The opacity of a window as a fraction.
   <code>opacity 1</code> is the same as <code><a href="XMonad-Hooks-FadeWindows.html#v:opaque">opaque</a></code>,
   whereas <code>opacity 0</code> is the same as <code><a href="XMonad-Hooks-FadeWindows.html#v:transparent">transparent</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Specify a window's opacity; this is the inverse of <code><a href="XMonad-Hooks-FadeWindows.html#v:transparency">transparency</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:fadeTo" class="def">fadeTo</a> :: <a href="http://xmonad.org/xmonad-docs/base/Prelude.html#t:Rational">Rational</a> -&gt; <a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a> <a href="src/XMonad-Hooks-FadeWindows.html#fadeTo" class="link">Source</a> <a href="#v:fadeTo" class="selflink">#</a></p><div class="doc"><p>An alias for <code><a href="XMonad-Hooks-FadeWindows.html#v:transparency">transparency</a></code>.</p><p>An alias for <code><a href="XMonad-Hooks-FadeWindows.html#v:transparency">transparency</a></code>.</p></div></div><h1 id="g:5"><code>handleEventHook</code> for mapped/unmapped windows</h1><div class="top"><p class="src"><a id="v:fadeWindowsEventHook" class="def">fadeWindowsEventHook</a> :: Event -&gt; X <a href="http://xmonad.org/xmonad-docs/base/Data-Monoid.html#t:All">All</a> <a href="src/XMonad-Hooks-FadeWindows.html#fadeWindowsEventHook" class="link">Source</a> <a href="#v:fadeWindowsEventHook" class="selflink">#</a></p><div class="doc"><p>A <code>handleEventHook</code> to handle fading and unfading of newly mapped
   or unmapped windows; this avoids problems with layouts such as
   <a href="XMonad-Layout-Full.html">XMonad.Layout.Full</a> or <a href="XMonad-Layout-Tabbed.html">XMonad.Layout.Tabbed</a>.  This hook may
   also be useful with <a href="XMonad-Hooks-FadeInactive.html">XMonad.Hooks.FadeInactive</a>.</p></div></div><h1 id="g:6"><code>doF</code> for simple hooks</h1><div class="top"><p class="src"><a id="v:doS" class="def">doS</a> :: <a href="http://xmonad.org/xmonad-docs/base/Data-Monoid.html#t:Monoid">Monoid</a> m =&gt; m -&gt; Query m <a href="src/XMonad-Hooks-FadeWindows.html#doS" class="link">Source</a> <a href="#v:doS" class="selflink">#</a></p><div class="doc"><p>Like <code>doF</code>, but usable with <code>ManageHook</code>-like hooks that
 aren't <code>Query</code> wrapped around transforming functions (<code><a href="http://xmonad.org/xmonad-docs/base/Data-Monoid.html#t:Endo">Endo</a></code>).</p></div></div><h1 id="g:7">Useful <code>Query</code>s for <code><a href="XMonad-Hooks-FadeWindows.html#t:FadeHook">FadeHook</a></code>s</h1><div class="top"><p class="src"><a id="v:isFloating" class="def">isFloating</a> :: Query <a href="http://xmonad.org/xmonad-docs/base/Data-Bool.html#t:Bool">Bool</a> <a href="src/XMonad-Hooks-FadeWindows.html#isFloating" class="link">Source</a> <a href="#v:isFloating" class="selflink">#</a></p><div class="doc"><p>A Query to determine if a window is floating.</p></div></div><div class="top"><p class="src"><a id="v:isUnfocused" class="def">isUnfocused</a> :: Query <a href="http://xmonad.org/xmonad-docs/base/Data-Bool.html#t:Bool">Bool</a> <a href="src/XMonad-Hooks-FadeInactive.html#isUnfocused" class="link">Source</a> <a href="#v:isUnfocused" class="selflink">#</a></p><div class="doc"><p>Returns True if the window doesn't have the focus.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>